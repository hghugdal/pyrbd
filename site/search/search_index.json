{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"index.html#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"index.html#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"reference/block.html","title":"Block","text":""},{"location":"reference/block.html#pyrbd.block","title":"<code>block</code>","text":"<p>Module containing Block class definition.</p>"},{"location":"reference/block.html#pyrbd.block.Block","title":"<code>Block</code>","text":"<p>Block entering a reliability block diagram.</p> <p>Parameters:</p> Name Type Description Default <code>text</code> <code>str</code> <p>block text string</p> required <code>color</code> <code>str</code> <p>block color</p> required <code>parent</code> <code>Optional[Block]</code> <p>parent <code>Block</code> instance</p> <code>None</code> <code>shift</code> <code>tuple[float, float]</code> <p>additional position shift <code>(x, y)</code> relative to <code>parent</code> <code>Block</code> instance</p> <code>(0.0, 0.0)</code> <p>Attributes:</p> Name Type Description <code>text</code> <code>str</code> <p>block text string</p> <code>color</code> <code>str</code> <p>block color</p> <code>parent</code> <code>Block | None</code> <p>parent <code>Block</code> instance or <code>None</code></p> <code>id</code> <code>str</code> <p>block identifier string</p> <code>shift</code> <code>tuple[float, float]</code> <p>additional position shift relative to <code>parent</code> <code>Block</code> instance</p> <code>position</code> <code>str</code> <p>string defining the block position</p> <code>tikz_options</code> <code>str</code> <p>TikZ node formatting options</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; block_1 = Block(\"Start\", \"green\")\n&gt;&gt;&gt; block_1.id\n'1'\n&gt;&gt;&gt; block_2 = Block(\"End\", \"red\", parent=block_1)\n&gt;&gt;&gt; block_2.id\n'2'\n</code></pre> Source code in <code>pyrbd/block.py</code> <pre><code>class Block:\n    \"\"\"Block entering a reliability block diagram.\n\n    Parameters\n    ----------\n    text : str\n        block text string\n    color : str\n        block color\n    parent : Optional[Block]\n        parent `Block` instance\n    shift : tuple[float, float], optional\n        additional position shift `(x, y)` relative to `parent` `Block` instance\n\n    Attributes\n    ----------\n    text : str\n        block text string\n    color : str\n        block color\n    parent : Block | None\n        parent `Block` instance or `None`\n    id : str\n        block identifier string\n    shift : tuple[float, float]\n        additional position shift relative to `parent` `Block` instance\n    position : str\n        string defining the block position\n    tikz_options : str\n        TikZ node formatting options\n\n\n    Examples\n    --------\n    &gt;&gt;&gt; block_1 = Block(\"Start\", \"green\")\n    &gt;&gt;&gt; block_1.id\n    '1'\n    &gt;&gt;&gt; block_2 = Block(\"End\", \"red\", parent=block_1)\n    &gt;&gt;&gt; block_2.id\n    '2'\n    \"\"\"\n\n    tikz_options: str = \", \".join(\n        [\n            \"anchor=west\",\n            \"align=center\",\n            \"fill={fill_color}\",\n            \"draw=black\",\n            \"minimum height=1cm\",\n            \"rounded corners=0.3mm\",\n        ]\n    )\n\n    def __init__(\n        self,\n        text: str,\n        color: str,\n        parent: Optional[\"Block\"] = None,\n        shift: tuple[float, float] = (0.0, 0.0),\n    ) -&gt; None:\n        self.text = text\n        self.color = color\n        self.parent = parent\n        self.shift = shift\n        self.id: str = str(int(self.parent.id) + 1) if self.parent is not None else \"1\"\n\n    @property\n    def position(self) -&gt; str:\n        \"\"\"Block position.\"\"\"\n\n        if self.parent is None:\n            return \"\"\n\n        return f\"[right={0.5 + self.shift[0]}cm of {self.parent.id}, yshift={self.shift[1]}cm]\"\n\n    def arrow(self, connector_position: float) -&gt; str:\n        \"\"\"Get TikZ arrow string.\"\"\"\n\n        if self.parent is None:\n            return \"\"\n\n        return \" \".join(\n            [\n                f\"\\\\draw[thick, rectangle connector={connector_position}cm]\",\n                f\"({self.parent.id}.east) to ({self.id}.west);\\n\",\n            ]\n        )\n\n    def get_node(self, connector_position: float = 0.25) -&gt; str:\n        \"\"\"Get TikZ node string.\"\"\"\n\n        node = \" \".join(\n            [\n                f\"\\\\node[{self.tikz_options.format(fill_color=self.color)}]\",\n                f\"({self.id})\",\n                self.position,\n                f\"{{{self.text}}};\\n\",\n                self.arrow(connector_position),\n            ]\n        )\n        return node\n</code></pre>"},{"location":"reference/block.html#pyrbd.block.Block.position","title":"<code>position</code>  <code>property</code>","text":"<p>Block position.</p>"},{"location":"reference/block.html#pyrbd.block.Block.arrow","title":"<code>arrow(connector_position)</code>","text":"<p>Get TikZ arrow string.</p> Source code in <code>pyrbd/block.py</code> <pre><code>def arrow(self, connector_position: float) -&gt; str:\n    \"\"\"Get TikZ arrow string.\"\"\"\n\n    if self.parent is None:\n        return \"\"\n\n    return \" \".join(\n        [\n            f\"\\\\draw[thick, rectangle connector={connector_position}cm]\",\n            f\"({self.parent.id}.east) to ({self.id}.west);\\n\",\n        ]\n    )\n</code></pre>"},{"location":"reference/block.html#pyrbd.block.Block.get_node","title":"<code>get_node(connector_position=0.25)</code>","text":"<p>Get TikZ node string.</p> Source code in <code>pyrbd/block.py</code> <pre><code>def get_node(self, connector_position: float = 0.25) -&gt; str:\n    \"\"\"Get TikZ node string.\"\"\"\n\n    node = \" \".join(\n        [\n            f\"\\\\node[{self.tikz_options.format(fill_color=self.color)}]\",\n            f\"({self.id})\",\n            self.position,\n            f\"{{{self.text}}};\\n\",\n            self.arrow(connector_position),\n        ]\n    )\n    return node\n</code></pre>"},{"location":"reference/diagram.html","title":"Diagram","text":""},{"location":"reference/diagram.html#pyrbd.diagram","title":"<code>diagram</code>","text":"<p>Module containing Diagram class definition.</p>"},{"location":"reference/diagram.html#pyrbd.diagram.Diagram","title":"<code>Diagram</code>","text":"<p>Reliability block diagram class definition.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>name of diagram</p> required <code>blocks</code> <code>list</code> <p>(nested) list of <code>Block</code> instances</p> required <code>hazard</code> <code>str</code> <p>string defining the <code>hazard</code> block text</p> <code>''</code> <p>Attributes:</p> Name Type Description <code>name</code> <code>str</code> <p>diagram name</p> <code>blocks</code> <code>list</code> <p>(nested) list of <code>Block</code> instances entering the block diagram</p> <code>head</code> <code>Block</code> <p>first block in diagram</p> <code>preamble</code> <code>str</code> <p>diagram Tex file preamble</p> <code>end</code> <code>str</code> <p>diagram Tex file end</p> Source code in <code>pyrbd/diagram.py</code> <pre><code>class Diagram:\n    \"\"\"Reliability block diagram class definition.\n\n    Parameters\n    ----------\n    name : str\n        name of diagram\n    blocks : list\n        (nested) list of `Block` instances\n    hazard : str, optional\n        string defining the `hazard` block text\n\n    Attributes\n    ----------\n    name : str\n        diagram name\n    blocks : list\n        (nested) list of `Block` instances entering the block diagram\n    head : Block\n        first block in diagram\n    preamble : str\n        diagram Tex file preamble\n    end : str\n        diagram Tex file end\n    \"\"\"\n\n    preamble = \"\\n\".join(\n        [\n            r\"\\documentclass{standalone}\",\n            r\"\\usepackage{tikz}\",\n            r\"\\usetikzlibrary{shapes,arrows,positioning,calc}\",\n            r\"\\tikzset{\",\n            r\"connector/.style={\",\n            r\"-latex,\",\n            r\"font=\\scriptsize},\",\n            r\"line/.style={\",\n            r\"font=\\scriptsize},\",\n            r\"rectangle connector/.style={\",\n            r\"connector,\"\n            r\"to path={(\\tikztostart) -- ++(#1,0pt) \\tikztonodes |- (\\tikztotarget) },\",\n            r\"pos=0.5},\"\n            r\"rectangle connector/.default=0.5cm,\",\n            r\"rectangle line/.style={\",\n            r\"line,\"\n            r\"to path={(\\tikztostart) -- ++(#1,0pt) \\tikztonodes |- (\\tikztotarget) },\",\n            r\"pos=0.5},\"\n            r\"rectangle line/.default=0.5cm,\",\n            r\"straight connector/.style={\",\n            r\"connector,\",\n            r\"to path=--(\\tikztotarget) \\tikztonodes}\",\n            r\"}\",\n            r\"\\begin{document}\",\n            r\"\\begin{tikzpicture}\",\n            \"\",\n        ]\n    )\n\n    end = \"\\n\".join(\n        [\n            r\"\\end{tikzpicture}\",\n            r\"\\end{document}\",\n        ]\n    )\n\n    def __init__(self, name: str, blocks: list, hazard: str = \"\") -&gt; None:\n        self.name = f\"{name}.tex\"\n        self.head = Block(hazard, \"red!60\")\n        self.head.id = \"0\"\n        self.blocks = blocks\n\n        self.blocks[0].parent = self.head\n\n    def write(self) -&gt; None:\n        \"\"\"Write diagram to .tex file.\"\"\"\n\n        with open(self.name, mode=\"w\", encoding=\"utf-8\") as file:\n            file.write(self.preamble)\n            file.write(self.head.get_node())\n            for block in self.blocks:\n                file.write(block.get_node())\n            file.write(self.end)\n\n    def compile(self) -&gt; None:\n        \"\"\"Compile diagram .tex file.\"\"\"\n\n        check_call([\"latexmk\", self.name])\n        check_call([\"latexmk\", \"-c\", self.name])\n        check_call([\"rm\", self.name])\n</code></pre>"},{"location":"reference/diagram.html#pyrbd.diagram.Diagram.compile","title":"<code>compile()</code>","text":"<p>Compile diagram .tex file.</p> Source code in <code>pyrbd/diagram.py</code> <pre><code>def compile(self) -&gt; None:\n    \"\"\"Compile diagram .tex file.\"\"\"\n\n    check_call([\"latexmk\", self.name])\n    check_call([\"latexmk\", \"-c\", self.name])\n    check_call([\"rm\", self.name])\n</code></pre>"},{"location":"reference/diagram.html#pyrbd.diagram.Diagram.write","title":"<code>write()</code>","text":"<p>Write diagram to .tex file.</p> Source code in <code>pyrbd/diagram.py</code> <pre><code>def write(self) -&gt; None:\n    \"\"\"Write diagram to .tex file.\"\"\"\n\n    with open(self.name, mode=\"w\", encoding=\"utf-8\") as file:\n        file.write(self.preamble)\n        file.write(self.head.get_node())\n        for block in self.blocks:\n            file.write(block.get_node())\n        file.write(self.end)\n</code></pre>"},{"location":"reference/group.html","title":"Group","text":""},{"location":"reference/group.html#pyrbd.group","title":"<code>group</code>","text":"<p>Definition of Group class for vertically stacking grouped <code>Block</code> instances.</p>"},{"location":"reference/group.html#pyrbd.group.Group","title":"<code>Group</code>","text":"<p>               Bases: <code>Block</code></p> <p>Group of <code>Block</code> instances for vertical stacking.</p> <p>Parameters:</p> Name Type Description Default <code>blocks</code> <code>list[Block]</code> <p>list of <code>Block</code> instances</p> required <code>parent</code> <code>Block</code> <p>parent <code>Block</code> instance</p> <code>None</code> Source code in <code>pyrbd/group.py</code> <pre><code>class Group(Block):\n    \"\"\"Group of `Block` instances for vertical stacking.\n\n    Parameters\n    ----------\n    blocks : list[Block]\n        list of `Block` instances\n    parent : Block, optional\n        parent `Block` instance\n    \"\"\"\n\n    shift_scale = 0.8\n    tikz_options: str = \", \".join(\n        [\n            \"anchor=west\",\n        ]\n    )\n\n    def __init__(\n        self, blocks: list[\"Block\"], parent: Optional[\"Block | Group\"] = None\n    ) -&gt; None:\n        Block.__init__(self, \"\", \"\", parent)\n\n        self.blocks = blocks\n        for i, (block, shift) in enumerate(zip(self.blocks, self.shifts)):\n            block.shift = (0.5, shift)\n            block.parent = parent\n            block.id = f\"{self.id}-{i}\"\n\n    @property\n    def shifts(self) -&gt; list[float]:\n        \"\"\"List of vertical position shifts for each `Block` instance in group.\"\"\"\n\n        n_blocks = len(self.blocks)\n\n        return list(\n            self.shift_scale\n            * linspace(-n_blocks / 2, n_blocks / 2, n_blocks, dtype=\"float\")\n        )\n\n    @property\n    def arrows(self) -&gt; str:\n        \"\"\"Get TikZ arrow string.\"\"\"\n\n        return \"\\n\".join(\n            [\n                \" \".join(\n                    [\n                        \"\\\\draw[thick, rectangle line]\",\n                        f\"({block.id}.east) to ({self.id});\\n\",\n                    ]\n                )\n                for block in self.blocks\n            ]\n        )\n\n    def get_node(self, connector_position: float = 0.5) -&gt; str:\n        \"\"\"Get TikZ node string.\"\"\"\n\n        block_nodes = \"\\n\".join(\n            block.get_node(connector_position) for block in self.blocks\n        )\n        group_node = \" \".join(\n            [\n                f\"\\\\coordinate ({self.id}) at\",\n                f\"($({self.blocks[0].id}.east)!0.5!({self.blocks[-1].id}.east) + (0.5cm, 0)$);\",\n                \"\\n\",\n            ]\n        )\n        return block_nodes + group_node + self.arrows\n</code></pre>"},{"location":"reference/group.html#pyrbd.group.Group.arrows","title":"<code>arrows</code>  <code>property</code>","text":"<p>Get TikZ arrow string.</p>"},{"location":"reference/group.html#pyrbd.group.Group.shifts","title":"<code>shifts</code>  <code>property</code>","text":"<p>List of vertical position shifts for each <code>Block</code> instance in group.</p>"},{"location":"reference/group.html#pyrbd.group.Group.get_node","title":"<code>get_node(connector_position=0.5)</code>","text":"<p>Get TikZ node string.</p> Source code in <code>pyrbd/group.py</code> <pre><code>def get_node(self, connector_position: float = 0.5) -&gt; str:\n    \"\"\"Get TikZ node string.\"\"\"\n\n    block_nodes = \"\\n\".join(\n        block.get_node(connector_position) for block in self.blocks\n    )\n    group_node = \" \".join(\n        [\n            f\"\\\\coordinate ({self.id}) at\",\n            f\"($({self.blocks[0].id}.east)!0.5!({self.blocks[-1].id}.east) + (0.5cm, 0)$);\",\n            \"\\n\",\n        ]\n    )\n    return block_nodes + group_node + self.arrows\n</code></pre>"}]}